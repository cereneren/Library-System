<!-- create.component.html -->
<div class="container">
  <div class="main-body">

    <!-- first row: two cards, same height -->
    <div class="row gutters-sm mt-5 align-items-stretch">

      <div class="col-md-4 mb-3">
        <div class="card h-100">
          <div class="card-body d-flex flex-column align-items-center text-center mt-5">
            <img
              src="assets/profile-icon.png"
              alt="user"
              class="rounded-circle mb-3"
              width="150"
            >
            <!-- live preview -->
            <h5 class="mb-1">{{ fullName }}</h5>
          </div>
        </div>
      </div>

      <!-- right “details/form” card -->
      <div class="col-md-8 mb-3">
        <div class="card h-100">
          <div class="card">
            <div class="card-body">

              <form (ngSubmit)="createMember()" #f="ngForm" novalidate class="space-y-4">

                <!-- Full Name -->
                <!-- Full Name -->
                <div class="mb-3 mt-3">
                  <h6 class="mb-2">{{ 'MEMBERS.FULL_NAME' | translate }}</h6>
                  <input
                    name="fullName"
                    [(ngModel)]="fullName"
                    #fullNameCtrl="ngModel"
                    required
                    minlength="3"
                    class="form-control"
                  />

                  <!-- Error messages -->
                  <div class="text-danger mt-1" *ngIf="fullNameCtrl.invalid && (fullNameCtrl.touched || f.submitted)">
                    <small *ngIf="fullNameCtrl.errors?.['required']">
                      {{ 'MEMBERS.MISSING_FULL_NAME' | translate }}
                    </small>
                  </div>
                </div>

                <!-- Email -->
                <!-- Email -->
                <div class="mb-3 mt-3">
                  <h6 class="mb-2">{{ 'MEMBERS.EMAIL' | translate }}</h6>
                  <input
                    type="email"
                    name="email"
                    [(ngModel)]="email"
                    #emailCtrl="ngModel"
                    required
                    pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
                    class="form-control"
                  />

                  <!-- Error messages -->
                  <div class="text-danger mt-1" *ngIf="emailCtrl.invalid && (emailCtrl.touched || f.submitted)">
                    <small *ngIf="emailCtrl.errors?.['required']">{{ 'MEMBERS.MISSING_EMAIL' | translate }}</small>
                    <small *ngIf="emailCtrl.errors?.['pattern']">{{ 'MEMBERS.INVALID_EMAIL' | translate }}</small>
                  </div>
                </div>

                <!-- Password -->
                <div class="mb-3 mt-3">
                  <h6 class="mb-2">{{ 'MEMBERS.PASSWORD' | translate }}</h6>
                  <div class="input-group">
                    <input
                      [type]="showPassword ? 'text' : 'password'"
                      name="password"
                      [(ngModel)]="password"
                      #passwordCtrl="ngModel"
                      required
                      minlength="6"
                      autocomplete="new-password"
                      class="form-control"
                    />

                    <button
                      type="button"
                      class="btn btn-outline-secondary"
                      (click)="showPassword = !showPassword"
                    >
                      {{ showPassword ? 'Hide' : 'Show' }}
                    </button>
                  </div>

                  <!-- Error message under box -->
                  <div class="text-danger mt-1" *ngIf="passwordCtrl.invalid && (passwordCtrl.touched || f.submitted)">
                    <small *ngIf="passwordCtrl.errors?.['required']">{{ 'MEMBERS.MISSING_PASSWORD' | translate }}</small>
                    <small *ngIf="passwordCtrl.errors?.['minlength']">{{ 'MEMBERS.PASSWORD_TOO_SHORT' | translate }}</small>
                  </div>
                </div>

                <!-- Submit -->
                <div class="mb-3 mt-3">
                  <button
                    type="submit"
                    class="btn btn-primary"
                    [disabled]="f.invalid || isSubmitting">
                    <span *ngIf="!isSubmitting">{{ 'MEMBERS.CREATE' | translate }}</span>
                    <span *ngIf="isSubmitting">{{ 'MEMBERS.CREATING' | translate }}…</span>
                  </button>
                </div>

              </form>

            </div>
          </div>
        </div>
      </div>

    </div><!-- /row -->
  </div><!-- /main-body -->
</div><!-- /container -->
