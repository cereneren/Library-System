
<div class="container my-5">
<div class="container w-75 mx-auto mb-4 ">
  <div class="d-flex gap-5 ">
    <!-- Search -->
    <div class="flex-fill me-5">
      <div class="input-group input-group-lg w-100">
        <input
          type="text"
          class="form-control bg-light"
          placeholder="Search members…"
          aria-label="Search members"
          [(ngModel)]="searchTerm"
          name="memberSearch"
          (keyup.enter)="onSearch()"
        >
        <button class="btn btn-outline-secondary" type="button" (click)="onSearch()">
          <i class="bi bi-search"></i>
        </button>
      </div>
    </div>

    <!-- Add Member -->
    <div class="flex-fill ms-5">
      <a href="/members/create" class="btn btn-success btn-lg w-100"  [routerLink]="['..', 'create']">
        <i class="bi bi-person-plus-fill me-2"></i>
        Add Member
      </a>
    </div>
  </div>
</div>


  <div class="card bg-light mb-4 mx-auto w-75 position-relative" *ngFor="let member of displayedMembers">
    <!-- Action buttons group -->
    <div class="position-absolute top-0 end-0 m-3 d-flex gap-2">
      <!-- Delete -->
      <button
        type="button"
        class="btn btn-danger btn-sm"
        title="Delete member"
        (click)="onDelete(member)"
        [disabled]="member.id == null || deleting[member.id]"
      >
        <i class="bi bi-trash-fill"></i>
        <ng-template #delBusy>Deleting…</ng-template>
      </button>
    </div>

    <!-- Optional: friendly error under the card list -->
    <div *ngIf="deleteError" class="alert alert-danger w-75 mx-auto mt-3">{{ deleteError }}</div>

    <!-- Card content -->
    <div class="row g-0 align-items-center">
      <div class="col-auto p-4">
        <img src="assets/profile-icon.png"
             alt="user"
             class="rounded-circle mb-3"
             width="150"
        >
      </div>
      <div class="col p-4">
        <div class="card-body">
          <h4 class="card-title">{{ member.fullName }}</h4>
          <p class="card-text">{{ member.email }}</p>

          <a href="#" class="btn btn-outline-primary me-2 mb-2 " [routerLink]="['..', member.id, 'detail']">Details</a>
        </div>
      </div>
    </div>
  </div>


</div>
