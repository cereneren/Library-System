<div class="container">
  <div class="main-body">

    <!-- first row: two cards, same height -->
    <div class="row gutters-sm mt-5 align-items-stretch">

      <!-- left “avatar” card -->
      <div class="col-md-4 mb-3">
        <div class="card h-100">
          <div class="card-body d-flex flex-column align-items-center text-center mt-5">
            <img src="assets/profile-icon.png"
                 alt="user"
                 class="rounded-circle mb-3"
                 width="150">
            <h4>{{ member.fullName || '—' }}</h4>
          </div>
        </div>
      </div>

      <!-- right “details” card -->
      <!-- right “details” card -->
      <div class="col-md-8 mb-3" *ngIf="member">
        <div class="card h-100">
          <div class="card">
            <div class="card-body">

              <!-- Full Name -->
              <div class="row mb-3">
                <div class="col-sm-3">
                  <h6 class="mb-0">Full Name</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                  <input type="text" class="form-control" [(ngModel)]="member.fullName">
                </div>
              </div>

              <!-- Email -->
              <div class="row mb-3">
                <div class="col-sm-3">
                  <h6 class="mb-0">Email</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                  <input type="text" class="form-control" [(ngModel)]="member.email">
                </div>
              </div>

              <!-- Total Loans (immutable) -->
              <div class="row mb-3">
                <div class="col-sm-3">
                  <h6 class="mb-0">Total Loans</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                  <input type="text" class="form-control" [value]="member.totalLoans || 0" readonly>
                </div>
              </div>

              <!-- Date Created (immutable) -->
              <div class="row mb-3">
                <div class="col-sm-3">
                  <h6 class="mb-0">Date Created</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                  <input type="text" class="form-control" [value]="member.dateCreated | date:'yyyy-MM-dd HH:mm'" readonly>
                </div>
              </div>

              <!-- Date Updated (immutable) -->
              <div class="row mb-3">
                <div class="col-sm-3">
                  <h6 class="mb-0">Date Updated</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                  <input type="text" class="form-control" [value]="member.dateUpdated | date:'yyyy-MM-dd HH:mm'" readonly>
                </div>
              </div>

              <!-- Save Button -->
              <div class="row">
                <div class="col-sm-3"></div>
                <div class="col-sm-9 text-secondary">
                  <button class="btn btn-primary me-2" type="button" (click)="save()" [disabled]="isSubmitting">Save</button>
                  <a class="btn btn-secondary" [routerLink]="['..','detail']">Cancel</a>

                </div>
              </div>


            </div>
          </div>
        </div>
      </div>

    </div>

    <!-- second row: full-width card -->
    <div class="row">
      <div class="col-12">
        <div class="card">
          <div class="card-body">
            <button
              class="btn btn-primary mb-3"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#myCollapse"
              aria-expanded="false"
              aria-controls="myCollapse">
              Loans
            </button>

            <div class="collapse" id="myCollapse">
              <div class="card card-body">
                <h5>Collapsed Content</h5>
                <p>
                  This content is hidden by default and will show when you click “Show More.”
                  You can put any HTML here—text, images, forms, whatever you need.
                </p>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>

  </div>
</div>
